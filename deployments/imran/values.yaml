namespace: coder

user:
  name: imran
  pvcSize: 50Gi
  host: imran.dev.scalebase.io
  env:
    - name: GIT_USER_NAME
      value: "Imran Ali"
    - name: GIT_USER_EMAIL
      value: "imran@scalebase.io"

image:
  repository: registry.digitalocean.com/resourceloop/coder
  tag: devlaptop-v1.6.2-browser-stealth
  pullPolicy: Always
  pullSecretName: regcred

ingress:
  className: nginx
  auth:
    type: oauth2
    secretName: api-basic-auth
  tls:
    enabled: true
    secretName: imran-dev-scalebase-io-tls
    clusterIssuer: letsencrypt-production

# OAuth2 configuration - To enable OAuth2: set ingress.auth.type to 'oauth2'
# Actual secrets should be provided via separate secrets file (e.g., secrets/imran/oauth2.yaml)
oauth2:
  # GitHub user authorization - comma-separated list of GitHub usernames
  githubUsers: "imran31415"  # Authorized GitHub usernames
  # Optional: Restrict to specific GitHub org/team instead of individual users
  # githubOrg: "your-github-org"
  # githubTeam: "your-github-org:your-team"
  
  # These will be overridden by secrets file (gitignored)
  cookieSecret: "PLACEHOLDER-OVERRIDE-WITH-SECRETS-FILE"
  clientId: "PLACEHOLDER-OVERRIDE-WITH-SECRETS-FILE" 
  clientSecret: "PLACEHOLDER-OVERRIDE-WITH-SECRETS-FILE"

resources:
  requests:
    cpu: "2"
    memory: 3Gi
  limits:
    cpu: "3"
    memory: 5Gi

build:
  mode: buildkit
  kanikoImage: gcr.io/kaniko-project/executor:latest
  pushSecretName: regcred
  defaultDestinationRepo: registry.digitalocean.com/resourceloop/coder

ssh:
  enabled: false
  port: 22

# Claude Code authentication:
#   Option A (subscription): Leave apiKey empty, run `make shell-imran && claude` once to OAuth login.
#   Option B (API credits): Set via: helm upgrade ... -f secrets/imran/claude.yaml
# API key takes precedence over OAuth when set.
claude:
  apiKey: ""

# GitHub App authentication:
#   Set via: helm upgrade ... -f secrets/imran/github-app.yaml
github:
  app:
    appId: ""           # Set via secrets file
    installationId: ""  # Set via secrets file
    privateKey: ""      # Set via secrets file
